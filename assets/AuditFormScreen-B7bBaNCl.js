import{i as h,r as n,j as t,v as p}from"./index-DGcQd1Yb.js";import{M as g}from"./MainLayout-nclP9TnZ.js";import{g as y,a as A}from"./GetAuditForm-Bv3EVsUa.js";import{T as i}from"./Button-Jide-vPS.js";import"./ArrowBack-CVzw8aht.js";import"./Paper-Ceux5gxC.js";import"./Box-CxGi9oDE.js";function j(o){if(!o)return"--/--/--";const a=new Date(o),s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"};return a.toLocaleString("th-TH",s).replace(/(\d+)\/(\d+)\/(\d+), (\d+):(\d+)/,"$3/$2/$1 $4:$5")}function S(){const o=h();n.useEffect(()=>{const e=async()=>{try{const r=await y();s(r)}catch(r){console.error("Failed to fetch audit form:",r),l(!0)}},c=async()=>{try{const r=await p(),x=await A(r);u(x)}catch(r){console.error("Failed to fetch audit form:",r),l(!0)}};e(),c()},[]);const[a,s]=n.useState(null),[d,u]=n.useState(null),[m,l]=n.useState(!1),f=n.useMemo(()=>a==null?void 0:a.map((e,c)=>t.jsxs("div",{className:"menuGroupBox blueBox",onClick:()=>o("/auditform/form",{state:{name:e.NAME,GroupId:e.AUDIT_GROUP_ID}}),children:[t.jsx(i,{variant:"h5",sx:{marginBottom:"10px",textAlign:"center",marginTop:"20px"},children:e.NAME}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"10px",marginLeft:"10px",marginRight:"10px"},children:[t.jsxs("div",{style:{textAlign:"left",display:"flex",flexDirection:"column"},children:[t.jsx(i,{variant:"h8",children:"Verify ล่าสุด :"}),t.jsx(i,{variant:"h8",children:j(e.UPDATE_DATE)})]}),t.jsxs("div",{style:{textAlign:"left",display:"flex",flexDirection:"column"},children:[t.jsx(i,{variant:"h8",children:"Verify โดย :"}),t.jsx(i,{variant:"h8",children:e.CREATE_BY_USER_ID})]})]})]},c)),[a,o]);return t.jsxs(g,{children:[m&&t.jsx(i,{variant:"h6",children:"Failed to fetch audit form data."}),t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"50px"},children:f})]})}export{S as default};
